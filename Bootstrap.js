try{document.body.style.overflow="hidden",Array.from(document.body.children).forEach(e=>{"budgetable-app"!==e.id&&(e.style.display="none")});var e=document.createElement("div");e.id="budgetable-app",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.zIndex="9999",e.style.backgroundColor=localStorage.getItem("bgColor")||"#FFFFFF",e.style.overflow="auto",e.innerHTML='<div class="container-fluid" style="position:relative;padding:15px;"><h1 id="title">Budgetable By Devlin</h1><button id="menuBtn" style="position:absolute;top:15px;right:15px;font-size:2em;border:none;background:none;cursor:pointer;">☰</button></div><p id="subtitle" class="text-center">budgeting made easy for everyone</p><p id="datetime" class="text-center" style="font-size:1.2em;"></p><div id="menu" style="display:none;position:absolute;top:60px;right:15px;background:rgba(0,0,0,0.7);border:1px solid #333;padding:15px;border-radius:8px;"><button id="homeBtn" class="btn btn-primary btn-block" style="font-size:1.2em;padding:12px;width:180px;height:50px;margin:5px 0;">Home</button><button id="colorSettingsBtn" class="btn btn-success btn-block" style="font-size:1.2em;padding:12px;width:180px;height:50px;margin:5px 0;">Color Settings</button><button id="importBillsBtn" class="btn btn-danger btn-block" style="font-size:1.2em;padding:12px;width:180px;height:50px;margin:5px 0;">Import Bills</button><button id="previousMonthsBtn" class="btn btn-secondary btn-block" style="font-size:1.2em;padding:12px;width:180px;height:50px;margin:5px 0;">Previous Months</button></div><div id="colorSettings" style="display:none;padding:15px;background:rgba(0,0,0,0.7);border:1px solid #333;border-radius:8px;position:absolute;top:60px;right:15px;"><div style="width:30px;height:30px;background:#1A2526;display:inline-block;cursor:pointer;margin:5px;border-radius:4px;" data-color="#1A2526"></div><div style="width:30px;height:30px;background:#000000;display:inline-block;cursor:pointer;margin:5px;border-radius:4px;" data-color="#000000"></div><div style="width:30px;height:30px;background:#FFFFFF;display:inline-block;cursor:pointer;margin:5px;border-radius:4px;" data-color="#FFFFFF"></div><div style="width:30px;height:30px;background:#FFFDD0;display:inline-block;cursor:pointer;margin:5px;border-radius:4px;" data-color="#FFFDD0"></div></div><div id="billsWindow" style="display:none;position:fixed;top:20%;left:10%;width:80%;background:#fff;border:1px solid #333;padding:20px;border-radius:8px;z-index:10000;"><h3 style="font-size:1.5em;">Add Bill</h3><input id="billDue" class="form-control" placeholder="Due Date (MM/DD/YYYY)" style="font-size:1.2em;padding:12px;margin:5px;"><input id="billDesc" class="form-control" placeholder="Description" style="font-size:1.2em;padding:12px;margin:5px;"><input id="billAmt" type="number" class="form-control" placeholder="Amount" style="font-size:1.2em;padding:12px;margin:5px;"><button id="saveBillBtn" class="btn btn-success" style="font-size:1.2em;padding:12px 24px;width:120px;height:50px;margin:5px;">Save</button><button id="closeBillsBtn" class="btn btn-danger" style="font-size:1.2em;padding:12px 24px;width:120px;height:50px;margin:5px;">Close</button></div><div id="previousMonths" style="display:none;position:absolute;top:60px;right:200px;background:rgba(0,0,0,0.7);border:1px solid #333;padding:15px;border-radius:8px;"></div><div class="container-fluid" style="padding:15px;"><table class="table table-bordered" style="font-size:1.2em;margin:20px 0;"><thead><tr><th style="padding:15px;">Due Date</th><th style="padding:15px;">Description</th><th style="padding:15px;">Amount</th></tr></thead><tbody id="bills"></tbody><tbody id="entries"></tbody></table><div class="row"><div class="col"><input id="desc" class="form-control" placeholder="Description" style="font-size:1.2em;padding:12px;margin:5px;"></div><div class="col"><input id="amt" type="number" class="form-control" placeholder="Amount" style="font-size:1.2em;padding:12px;margin:5px;"></div><div class="col"><button id="addBtn" class="btn btn-primary" style="font-size:1.2em;padding:12px 24px;width:120px;height:50px;margin:5px;">Add</button></div><div class="col"><button id="exportBtn" class="btn btn-success" style="font-size:1.2em;padding:12px 24px;width:120px;height:50px;margin:5px;">Export</button></div><div class="col"><button id="importBtn" class="btn btn-danger" style="font-size:1.2em;padding:12px 24px;width:120px;height:50px;margin:5px;">Import</button></div></div></div>',document.body.appendChild(e);var t=document.getElementById("title");t.style.fontFamily="Comic Sans MS, cursive",t.style.color="#32CD32",t.style.textShadow="0 0 5px #fff, 0 0 10px #32CD32, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000",t.style.fontSize="2.5em",t.style.webkitTextStroke="1px black";var n=document.getElementById("subtitle");n.style.color="#000000",n.style.fontSize="1.5em";var i=document.getElementById("datetime");function o(){var e=new Date;i.innerText=e.toLocaleDateString()+" "+e.toLocaleTimeString()}i.style.color="#000000",o(),setInterval(o,1e3);var a=new Date().toLocaleString("default",{month:"long",year:"numeric"}),l=localStorage.getItem("lastMonth");if(!l||l!==a)if(confirm("A new month has started ("+a+"). Would you like to save the current data for the previous month?")){var r={bills:JSON.parse(localStorage.getItem("bills")||"[]"),entries:JSON.parse(localStorage.getItem("budget")||"[]")},s="previousMonth_"+new Date().toISOString().split("T")[0];localStorage.setItem(s,JSON.stringify(r)),alert("Data saved for "+s),localStorage.setItem("lastMonth",a);var d=JSON.parse(localStorage.getItem("bills")||"[]");d.forEach(e=>{var t=new Date(e.due);t.getDate()&&(t.setMonth(t.getMonth()+1),e.due=t.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}))}),localStorage.setItem("bills",JSON.stringify(d)),localStorage.setItem("budget","[]")}var c=localStorage.getItem("budget")?JSON.parse(localStorage.getItem("budget")):[],u=localStorage.getItem("bills")?JSON.parse(localStorage.getItem("bills")):[],g=localStorage.getItem("bgColor")||"#FFFFFF";e.style.backgroundColor=g;var p=document.getElementById("bills"),m=document.getElementById("entries");function y(){p.innerHTML="",u.forEach((e,t)=>{var n=document.createElement("tr");n.innerHTML=`<td style="padding:15px;"><span style="cursor:pointer;text-decoration:underline;" data-index="${t}">${e.due}</span></td><td style="padding:15px;">${e.desc}</td><td style="padding:15px;">${e.amt}</td>`,p.appendChild(n),n.querySelector("span").addEventListener("click",function(){confirm("Are you sure you want to delete this bill entry?")&&(u.splice(t,1),localStorage.setItem("bills",JSON.stringify(u)),y(),alert("Bill entry deleted."))})})}function b(){m.innerHTML="",c.forEach((e,t)=>{var n=document.createElement("tr");n.innerHTML=`<td style="padding:15px;"><span style="cursor:pointer;text-decoration:underline;" data-index="${t}">${e.date}</span></td><td style="padding:15px;">${e.desc}</td><td style="padding:15px;">${e.amt}</td>`,m.appendChild(n),n.querySelector("span").addEventListener("click",function(){confirm("Are you sure you want to delete this budget entry?")&&(c.splice(t,1),localStorage.setItem("budget",JSON.stringify(c)),b(),alert("Budget entry deleted."))})})}y(),b(),document.getElementById("addBtn").addEventListener("click",function(){var e=document.getElementById("desc").value,t=document.getElementById("amt").value;if(e&&t){var n=new Date().toLocaleDateString();c.push({date:n,desc:e,amt:parseFloat(t)}),localStorage.setItem("budget",JSON.stringify(c)),document.getElementById("desc").value="",document.getElementById("amt").value="",b(),alert("Added: "+n+" | "+e+" | "+t)}else alert("Fill both fields!")}),document.getElementById("exportBtn").addEventListener("click",function(){var e=JSON.stringify({bills:u,entries:c});prompt("Copy this JSON:",e)}),document.getElementById("importBtn").addEventListener("click",function(){var e=prompt("Paste JSON here:");if(e)try{var t=JSON.parse(e);u=t.bills||[],c=t.entries||[],localStorage.setItem("bills",JSON.stringify(u)),localStorage.setItem("budget",JSON.stringify(c)),y(),b(),alert("Imported!")}catch(e){alert("Invalid JSON: "+e)}});var v=document.getElementById("menu"),h=document.getElementById("menuBtn"),f=document.getElementById("colorSettings"),E=document.getElementById("colorSettingsBtn"),S=document.getElementById("billsWindow"),I=document.getElementById("importBillsBtn"),x=document.getElementById("saveBillBtn"),B=document.getElementById("closeBillsBtn"),w=document.getElementById("previousMonths"),C=document.getElementById("previousMonthsBtn"),T=document.getElementById("homeBtn");function k(e,t,n,i,o,a){e.addEventListener("click",function(){t.style.display="none"===t.style.display?"block":"none",n.style.display="none",i.style.display="none",o.style.display="none",a&&(a.style.display="none")})}h.addEventListener("click",function(){k(h,v,f,S,w)}),E.addEventListener("click",function(){k(E,f,w)}),I.addEventListener("click",function(){k(I,S,v,w)}),x.addEventListener("click",function(){var e=document.getElementById("billDue").value,t=document.getElementById("billDesc").value,n=document.getElementById("billAmt").value;e&&t&&n?(u.push({due:e,desc:t,amt:parseFloat(n)}),localStorage.setItem("bills",JSON.stringify(u)),document.getElementById("billDue").value="",document.getElementById("billDesc").value="",document.getElementById("billAmt").value="",y(),S.style.display="none",alert("Bill added: "+e+" | "+t+" | "+n)):alert("Fill all bill fields!")}),B.addEventListener("click",function(){S.style.display="none"}),C.addEventListener("click",function(){w.style.display="none"===w.style.display?"block":"none",f.style.display="none",S.style.display="none",""===w.innerHTML&&(w.innerHTML='<h3 style="font-size:1.5em;color:#fff;">Previous Months</h3>',Object.keys(localStorage).filter(e=>e.startsWith("previousMonth_")).forEach(e=>{var t=e.replace("previousMonth_",""),n=document.createElement("div"),i=document.createElement("button"),o=document.createElement("button");i.textContent=t,i.className="btn btn-primary btn-block",i.style.fontSize="1.2em",i.style.padding="12px",i.style.width="180px",i.style.height="50px",i.style.margin="5px 0",o.textContent="Delete",o.className="btn btn-danger btn-block",o.style.fontSize="1.2em",o.style.padding="12px",o.style.width="120px",o.style.height="50px",o.style.margin="5px 0",o.addEventListener("click",function(){confirm("Are you sure you want to delete the save for "+t+"?")&&(localStorage.removeItem(e),alert("Save for "+t+" deleted."),w.innerHTML="",C.click())}),i.addEventListener("click",function(){var e=JSON.parse(localStorage.getItem(e));u=e.bills,c=e.entries,localStorage.setItem("bills",JSON.stringify(u)),localStorage.setItem("budget",JSON.stringify(c)),y(),b(),alert("Loaded data for "+t),w.style.display="none"}),n.appendChild(i),n.appendChild(o),w.appendChild(n)}))}),T.addEventListener("click",function(){c=JSON.parse(localStorage.getItem("budget")||"[]"),u=JSON.parse(localStorage.getItem("bills")||"[]"),y(),b(),v.style.display="none",alert("Returned to current month's spreadsheet.")});for(var D=document.getElementById("colorSettings").getElementsByTagName("div"),M=0;M<D.length;M++)D[M].addEventListener("click",function(){var t=this.getAttribute("data-color");e.style.backgroundColor=t,localStorage.setItem("bgColor",t),L(t),v.style.display="none",f.style.display="none"});function L(t){var n="#1A2526"===t||"#000000"===t?"#FFFFFF":"#000000";document.getElementById("subtitle").style.color=n,document.getElementById("datetime").style.color=n,document.querySelectorAll("#budgetable-app input, #budgetable-app button, #budgetable-app table, #budgetable-app th, #budgetable-app td").forEach(e=>{e.style.color=n})}L(g)}catch(e){alert("Error: "+e)}
​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​​